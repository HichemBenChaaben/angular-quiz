<div ui-view class="container-fluid">
    <div ng-if="!restart" class="row text-center">
        <div class="col-lg-12">
            <h2>The javascript quiz</h2>
            <p>Let's start a new javascript quiz, this is level one</p>
            <button class="btn btn-lg btn-primary" ng-click="startQuiz()">
                Start your javascript quiz
            </button>
        </div>
    </div>
    <div ng-if="restart">
        <div class="row">
            <!-- Progress bar indicating where is the user exactly -->
            <div class="col-xs-8">
                <h6>Progress</h6>
                <progressbar type="success" value="progress" max="3" animate="true">{{points}} pts</progressbar>
            </div>
            <div class="col-xs-4 bg-info">Your score {{points}}</div>
            <div class="col-xs-7">
                <p>Choose editor style - {{stylesheet}}</p>
                <form>
                    <select ng-model="stylesheet" class="form-control">
                        <option ng-repeat="stylesheet in styles" value="{{stylesheet}}">{{stylesheet}}</option>
                    </select>
                </form>
            </div>
        </div>
        <div class="row text-center center-block" ng-repeat="slide in slides" ng-animate="displayslides">
            <div class="col-lg-12 bg-primary xs-padding">
                <div class="row">
                    <div class="col-xs-8">
                        <h5>
                            <span class="glyphicon glyphicon-question"></span>
                            <span>
                                {{slide.question}}
                            </span>
                        </h5>
                    </div>
                    <div class="col-xs-4">
                        <span style="font-size:24px" class="glyphicon glyphicon-time"></span>
                        <span><b>{{count}}</b></span>

                    </div>
                </div>
            </div>
            <!-- use hightlight js-->
            <div hljs no-escape include="'views/'+slide.snippetUrl" language="javascript">
                <div ng-include="'views/'+slide.snippetUrl"></div>
            </div>
            <!-- Button group -->
            <div class="row" ng-if="slide.alt.length > 0" ng-repeat="alt in slide.alt track by $index">
                <div class="col-lg-12 group-btn-answer">
                    <button ng-disabled="{{answered}}" class="btn btn-lg btn-default btn-block" ng-click="answer($index)">
                        {{alt.alternative}}
                    </button>
                </div>
            </div>

            <!-- Display the badass message -->
            <div ng-if="correctAnswer" ng-class="correctAnswer?correct:incorrect" ng-animate="usermessage" class="usermessage correct">
                <p>
                    <span class="glyphicon glyphicon-ok-circle"></span>
                    <span>{{usermessage}} <b>+{{slide.points}} points!</b></span>
                </p>
            </div>

        </div>
        <hr/>
        <div ng-if="usermessage" class="say-correct">
            <div class="reveal-animation">
                <p>{{usermessage.message}}</p>
            </div>
        </div>
        <!-- change css style of the editor -->
        <link rel="stylesheet" href="bower_components/highlightjs/styles/{{stylesheet}}.css">
    </div>
</div>
