<div ui-view class="container-fluid">
    <div ng-if="!restart" class="row text-center">
        <div class="col-lg-12">
            <h2>Javascript quiz</h2>
            <p>Let's start a new javascript quiz, this is level one</p>
            <button class="btn btn-lg btn-primary" ng-click="startQuiz()">
                Start your javascript quiz
            </button>
        </div>
    </div>
    <div ng-if="restart">
        <div class="row">
            <div class="col-xs-12">
                <div class="row">
                    <!-- Progress bar indicating where is the user exactly -->
                    <div class="col-xs-8">
                        <h4>The javascript quiz</h4>
                    </div>
                    <div class="col-xs-4">
                        <div class="" ="col-xs-4 bg-info">
                            <span>Question {{qindex+1}}/{{qtotal}}</span>
                            <span>Your score {{points}}</span>
                            <span>{{usermessage}}</span>
                        </div>
                    </div>
                    <div class="col-xs-12">
                        <progressbar type="success"
                                     value="progress"
                                     max="qtotal"
                                     animate="true">
                                        {{points}} pts
                        </progressbar>
                    </div>
                </div>
            </div>
        </div>
        <div class="row text-center center-block" ng-repeat="slide in slides" ng-animate="displayslides">
            <div class="col-lg-12 bg-primary xs-padding">
                <div class="row">
                    <div class="col-xs-12">
                        <h3>
                            <span class="glyphicon glyphicon-question"></span>
                            <span>
                                {{slide.question}}
                            </span>
                        </h3>
                    </div>
                </div>
            </div>
            <!-- use hightlight js-->
            <div hljs no-escape include="'views/'+slide.snippetUrl" language="javascript">
                <div ng-include="'views/'+slide.snippetUrl"></div>
            </div>

            <!-- Choosing the style to include in our editor
            <form>
                <select ng-model="stylesheet" class="form-control">
                    <option ng-repeat="stylesheet in styles" value="{{stylesheet}}">
                        {{stylesheet}}
                    </option>
                </select>
            </form>

            End choosing editor style -->

            <!-- Button group -->
            <div class="row" ng-if="slide.alt.length > 0" ng-repeat="alt in slide.alt track by $index">
                <!-- Group of questions -->
                <div ng-hide="wrongA" class="col-lg-12 group-btn-answer">
                    <button ng-diabled="answered" class="btn btn-default btn-block" ng-click="answer($index)" ng-class="{correctA: correctA}">
                        {{alt.alternative}}
                    </button>
                </div>
                <!-- group of answers -->
                <div ng-if="wrongA && slide.answer==$index" class="bg-danger wrong-answer">
                    <h4>The answer is :</h4>
                    <div>{{alt.alternative}}</div>
                </div>
            </div>
            <!-- Display the badass message -->
            <div ng-if="correctAnswer" ng-class="correctAnswer?correct:incorrect" ng-animate="usermessage" class="usermessage correct">
                <p>
                    <span class="glyphicon glyphicon-ok-circle"></span>
                    <span>{{usermessage}} <b>+{{slide.points}} points!</b></span>
                </p>
            </div>

        </div>
        <hr/>
        <div ng-if="usermessage" class="say-correct">
            <div class="reveal-animation">
                <p>{{usermessage.message}}</p>
            </div>
        </div>
        <!-- change css style of the editor -->
        <link rel="stylesheet" href="bower_components/highlightjs/styles/{{stylesheet}}.css">
    </div>
</div>
